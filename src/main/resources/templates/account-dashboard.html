<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Account Dashboard</title>
<link rel="stylesheet" href="../css/header-sidebar.css">
<link rel="stylesheet" href="../css/account-dashboard.css">

</head>
<body>

	<!-- old -->
	<!-- 	<!-- Top Bar -->
	-->
	<!-- 	<div class="top-bar"> -->
	<!-- 		<span class="menu-btn" onclick="toggleMenu()">&#9776;</span> <img -->
	<!-- 			src="../img/CreditOCubeLogo.png" alt="Logo" class="center-logo"> -->
	<!-- 		<!-- 		<button class="logout-button" onclick="window.location.href='login'">Logout</button> -->
	-->
	<!-- 	</div> -->

	<!-- 	<div class="side-menu menu-active" id="sideMenu"> -->
	<!-- 		<div class="user-greeting"> -->
	<!-- 			<p>DEBIT ACCOUNTS</p> -->
	<!-- 			<p>DETAILS</p> -->
	<!-- 		</div> -->
	<!-- 		<a href="view-transaction-history">Transaction history</a> <a -->
	<!-- 			href="transfer-to-account-number">Transfer money</a> <a -->
	<!-- 			href="deposit-withdraw">Deposit / Withdraw</a> <a -->
	<!-- 			href="account-dashboard">Account dashboard</a> <a -->
	<!-- 			href="creditcard-dashboard">Credit card dashboard</a> <a -->
	<!-- 			href="customer-dashboard">Main dashboard</a> -->
	<!-- 		<!-- Add other menu items here -->
	-->
	<!-- 		<form th:action="@{/logout}" method="post"> -->
	<!-- 			<div class="buttons"> -->
	<!-- 				<button type="submit" class="login-button">Logout</button> -->
	<!-- 			</div> -->
	<!-- 		</form> -->
	<!-- 	</div> -->
	<!-- 	old -->


	<!-- 	keep this for now -->
	<div class="top-bar">
		<span class="menu-btn" onclick="toggleMenu()">&#9776;</span> <img
			src="../img/CreditOCubeLogo.png" alt="Logo" class="center-logo">
		<!-- 		<button class="logout-button" onclick="window.location.href='login'">Logout</button> -->
		</form>
	</div>

	<div class="side-menu menu-active" id="sideMenu">
		<div class="user-greeting">
			<p>
				DEBIT ACCOUNTS
			</p>
			<p>What would you like to do today?</p>
		</div>
		<a href="transfer-to-account-number">Transfer money</a> <a
			href="deposit-withdraw">Deposit / Withdraw</a> <a
			href="account-dashboard">Account dashboard</a> <a
			href="creditcard-dashboard">Credit card dashboard</a> <a
			href="customer-dashboard">Main dashboard</a>
		<form th:action="@{/logout}" method="post">
			<div class="buttons">
				<button type="submit" class="login-button">Logout</button>
			</div>
		</form>
	</div>
	<!-- 	keep this for now -->



	<!-- Main Content Area -->
	<div class="content-area main-content">
		<!-- Accounts Table -->
		<div>
			<table>
				<thead>
					<tr>
						<th>Account Number</th>
						<th>Account Name</th>
						<th>Account Balance</th>
						<th colspan="2">Actions</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="account : ${session.accounts}">
						<td
							th:text="| ${account.accountNumber.substring(0,3)}-${account.accountNumber.substring(3,6)}-${account.accountNumber.substring(6)} |"></td>
						<td th:text="${account.accountName}"></td>
						<td th:text="'$ '+${account.accountBalance}"></td>
						
						<td>
							<form th:action="@{/view-transaction-history}" method="GET">
								<button type="submit" class="debit-action-buttons">View
									Transaction History</button>
							</form>
						</td>
						<td>
							<form th:action="@{/deleteDebitAccount}" method="POST">
								<input type="hidden" th:value="${account.accountId}"
									name="accountId">
								<button type="submit" class="debit-action-buttons">Close
									Account</button>
							</form>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<!-- Create Debit Account Button -->
		<form th:action="@{/go-to-create-debit-account}" method="get">
			<input type="submit" class="debit-action-buttons"
				value="Create Debit Account">
		</form>
	</div>

	<!-- JavaScript for Sidebar Toggle -->
	<script src="../js/sidebar.js"></script>
</body>
</html>
